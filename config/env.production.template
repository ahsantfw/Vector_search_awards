# ============================================
# SBIR Vector Search - Production Environment
# ============================================
# This is a TEMPLATE for production deployment to Google Cloud Run
# DO NOT commit this file with real credentials!
# Set these values as environment variables in Cloud Run console

# ==================== Environment ====================
ENVIRONMENT=production
DEBUG=false

# ==================== Database (Supabase) ====================
# Get these from your Supabase project settings
# https://app.supabase.com/project/YOUR_PROJECT/settings/api
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key-here

# PostgreSQL connection string for pgvector
# Format: postgresql://user:password@host:port/database
# Get from: Supabase Project Settings > Database > Connection String (URI)
DATABASE_URL=postgresql://postgres:password@db.your-project.supabase.co:5432/postgres

# ==================== Vector Store ====================
# Use pgvector (Supabase extension) for production
VECTOR_STORE=pgvector

# ==================== Embeddings (OpenAI) ====================
# Get from: https://platform.openai.com/api-keys
EMBEDDING_PROVIDER=openai
OPENAI_API_KEY=sk-your-openai-api-key-here
EMBEDDING_MODEL=text-embedding-3-large
EMBEDDING_DIMENSION=3072

# ==================== Search Configuration ====================
DEFAULT_TOP_K=10
MAX_TOP_K=100
LEXICAL_BOOST=10.0
SEMANTIC_WEIGHT=0.5

# ==================== Chunking Configuration ====================
CHUNK_SIZE=400
CHUNK_OVERLAP=40

# ==================== Batch Processing ====================
BATCH_SIZE=100
INDEXING_BATCH_SIZE=100
INDEXING_MAX_CONCURRENT=1
INDEXING_EMBEDDING_BATCH_SIZE=64
INDEXING_CHUNKING_WORKERS=4

# ==================== Logging ====================
LOG_LEVEL=INFO
LOG_FILE=/tmp/app.log

# ==================== API Configuration ====================
API_HOST=0.0.0.0
API_PORT=8080

# ==================== Security ====================
# Generate a strong random API key for indexing endpoints
# Example: openssl rand -hex 32
INDEXING_API_KEY=your-random-api-key-here-for-n8n-webhooks

# ==================== Table Names ====================
AWARDS_TABLE_NAME=awards
AWARD_CHUNKS_TABLE_NAME=award_chunks

# ==================== Default Values ====================
DEFAULT_AGENCY=PAMS

# ==================== Cloud Run Specific ====================
# These are automatically set by Cloud Run, but can be overridden
PORT=8080
