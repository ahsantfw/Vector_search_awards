{
  "Configuration": {
    "status": "WARNING",
    "config": {
      "embedding_model": "allenai/scibert_scivocab_uncased",
      "embedding_provider": "sentence-transformers",
      "embedding_dimension": 768,
      "chunk_size": 350,
      "chunk_overlap": 50,
      "vector_store": "pgvector",
      "awards_table": "pams_awards_new",
      "chunks_table": "pams_chunks_new"
    },
    "issues": [
      "Using SciBERT - may not be optimal for complex conceptual queries",
      "Chunk size (350) may be too small for context"
    ]
  },
  "Database Connectivity": {
    "status": "OK",
    "postgres_connected": true,
    "postgres_version": "PostgreSQL 17.6 on aarch64-unknown-linux-gnu",
    "supabase_connected": true
  },
  "Indexing Completeness": {
    "status": "OK",
    "total_chunks": 14112,
    "unique_awards_indexed": 3632,
    "total_awards": 3728,
    "chunks_with_embeddings": 14112,
    "embedding_dimensions_found": [
      768
    ],
    "coverage": 0.9742489270386266,
    "issues": []
  },
  "Embedding Service": {
    "status": "OK",
    "service_type": "SentenceTransformersEmbeddingService",
    "test_embeddings": [
      {
        "text": "photovoltaic solar cell efficiency",
        "dimension": 768,
        "sample": [
          0.013539307750761509,
          0.03393047675490379,
          -0.03545443341135979,
          0.015884442254900932,
          0.0015439626295119524
        ]
      },
      {
        "text": "quantum entanglement entropy",
        "dimension": 768,
        "sample": [
          0.004896586295217276,
          0.009025612846016884,
          0.011215748265385628,
          -0.011914257891476154,
          -0.009700881317257881
        ]
      },
      {
        "text": "hydrogen fuel cell catalyst",
        "dimension": 768,
        "sample": [
          0.023542968556284904,
          0.01374934334307909,
          -0.0793883204460144,
          0.03136239945888519,
          0.028336331248283386
        ]
      }
    ],
    "dimension_consistent": true,
    "issues": []
  },
  "Basic Semantic Search": {
    "status": "OK",
    "test_results": [
      {
        "query": "photovoltaic solar energy",
        "num_results": 5,
        "top_score": 0.814770939166984,
        "top_award_id": "DE-SC0023602"
      },
      {
        "query": "quantum computing",
        "num_results": 5,
        "top_score": 0.830978254196459,
        "top_award_id": "DE-SC0020340"
      },
      {
        "query": "hydrogen fuel cells",
        "num_results": 5,
        "top_score": 0.897065466817331,
        "top_award_id": "DE-SC0019781"
      }
    ],
    "issues": []
  },
  "Sample Query Tests": {
    "status": "WARNING",
    "sample_results": [
      {
        "query": "What role do localized thermal gradients play in modulating ...",
        "expected_award": "DE-SC0025804",
        "found": false,
        "rank": null,
        "top_5_awards": [
          "DE-SC0026201",
          "DE-SC0021629",
          "DE-SC0007880",
          "DE-SC0026197",
          "DE-SC0022019"
        ],
        "top_score": 0.88366667336227
      },
      {
        "query": "How do the characteristics of entanglement entropy growth in...",
        "expected_award": "DE-SC0024163",
        "found": false,
        "rank": null,
        "top_5_awards": [
          "DE-SC0022988",
          "DE-SC0026100",
          "DE-SC0022917",
          "DE-SC0026309",
          "DE-SC0024663"
        ],
        "top_score": 0.867040284452423
      },
      {
        "query": "What strategies can be implemented to foster a culture of in...",
        "expected_award": "DE-SC0025722",
        "found": false,
        "rank": null,
        "top_5_awards": [
          "DE-SC0025724",
          "DE-SC0024652",
          "DE-SC0025730",
          "DE-SC0024672",
          "DE-SC0025675"
        ],
        "top_score": 0.781368857214197
      }
    ],
    "found_count": 0,
    "total_samples": 3,
    "issues": [
      "CRITICAL: None of the sample queries found expected awards even in top 20"
    ]
  },
  "Chunk Quality": {
    "status": "WARNING",
    "sample_chunks": [
      {
        "award_id": "DE-SC0025804",
        "chunk_length": 1853,
        "chunk_index": 0,
        "field_name": "abstract",
        "preview": "Scientists are developing a method to efficiently produce hydrogen fuel from water using special pho..."
      },
      {
        "award_id": "DE-SC0025804",
        "chunk_length": 1816,
        "chunk_index": 1,
        "field_name": "abstract",
        "preview": ". The gas detection generated by SPR will be compared with GC-MS to establish an experimental relati..."
      },
      {
        "award_id": "DE-SC0025804",
        "chunk_length": 100,
        "chunk_index": 2,
        "field_name": "title",
        "preview": "Exploring the effect of thermal energy by the plasmonic photothermal catalyst in hydrogen generation"
      },
      {
        "award_id": "DE-SC0025804",
        "chunk_length": 1102,
        "chunk_index": 3,
        "field_name": "title_abstract_context",
        "preview": "Exploring the effect of thermal energy by the plasmonic photothermal catalyst in hydrogen generation..."
      },
      {
        "award_id": "DE-SC0025742",
        "chunk_length": 1649,
        "chunk_index": 0,
        "field_name": "abstract",
        "preview": "Science and Engineering Student Apprenticeship Program in Accelerator R&D PI: Dr. Viviana Vladutescu..."
      }
    ],
    "statistics": {
      "avg_length": "1002.8454506802721088",
      "min_length": 12,
      "max_length": 2229
    },
    "issues": [
      "Some chunks are very short (min: 12)"
    ]
  },
  "Ground Truth Verification": {
    "status": "OK",
    "verification_results": [
      {
        "award_id": "DE-SC0025804",
        "exists": true,
        "title": "Exploring the effect of thermal energy by the plasmonic phot",
        "abstract_length": 3497,
        "chunk_count": 4,
        "has_content": true,
        "has_chunks": true
      },
      {
        "award_id": "DE-SC0025742",
        "exists": true,
        "title": "Science and Engineering Student Apprenticeship Program in Ac",
        "abstract_length": 3566,
        "chunk_count": 5,
        "has_content": true,
        "has_chunks": true
      },
      {
        "award_id": "DE-SC0025727",
        "exists": true,
        "title": "Modeling Ion-Irradiated Mechanical Properties of Novel High-",
        "abstract_length": 1657,
        "chunk_count": 3,
        "has_content": true,
        "has_chunks": true
      },
      {
        "award_id": "DE-SC0025722",
        "exists": true,
        "title": "FLAIR: Preparing Future Leaders in Artificial Intelligence a",
        "abstract_length": 4128,
        "chunk_count": 5,
        "has_content": true,
        "has_chunks": true
      },
      {
        "award_id": "DE-SC0025701",
        "exists": true,
        "title": "Mechanistic Understanding of Electro-Chemo-Mechanical Interp",
        "abstract_length": 1963,
        "chunk_count": 3,
        "has_content": true,
        "has_chunks": true
      },
      {
        "award_id": "DE-SC0024163",
        "exists": true,
        "title": "Entanglement-Informed Translations Between AQC and QAOA",
        "abstract_length": 3637,
        "chunk_count": 5,
        "has_content": true,
        "has_chunks": true
      }
    ],
    "issues": []
  }
}